import{$ as Bn,$a as Jn,Aa as zn,Ba as qn,D as Un,Ea as Gn,F as Mn,Fa as Kn,I as xn,Ib as tr,K as Fn,Kb as Ke,Q as ce,Qb as nr,T as ue,U as le,V as J,W as O,X as Vn,Y as $n,Yc as rr,Z as de,_a as Yn,a as Ae,b as ze,f as l,g as Pn,ga as Wn,gb as Xn,h as Et,ha as V,ja as qe,ka as Hn,l as On,m as Nn,ma as he,o as Tt,p as yt,pa as jn,q as wt,s as oe,sa as Ge,sb as Zn,t as Dn,tb as Qn,u as ae,ua as fe,vb as er,vc as At,w as Ln,ya as pe,yb as bt}from"./chunk-Q4QVNFAK.js";var Ci=["*"],Ye;function Pi(){if(Ye===void 0&&(Ye=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(Ye=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Ye}function Se(t){return Pi()?.createHTML(t)||t}function ir(t){return Error(`Unable to find icon with the name "${t}"`)}function Oi(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function sr(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function or(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var $=class{constructor(e,n,r){this.url=e,this.svgText=n,this.options=r}},Ni=(()=>{let e=class e{constructor(r,i,s,o){this._httpClient=r,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(r,i,s){return this.addSvgIconInNamespace("",r,i,s)}addSvgIconLiteral(r,i,s){return this.addSvgIconLiteralInNamespace("",r,i,s)}addSvgIconInNamespace(r,i,s,o){return this._addSvgIconConfig(r,i,new $(s,null,o))}addSvgIconResolver(r){return this._resolvers.push(r),this}addSvgIconLiteralInNamespace(r,i,s,o){let a=this._sanitizer.sanitize(he.HTML,s);if(!a)throw or(s);let c=Se(a);return this._addSvgIconConfig(r,i,new $("",c,o))}addSvgIconSet(r,i){return this.addSvgIconSetInNamespace("",r,i)}addSvgIconSetLiteral(r,i){return this.addSvgIconSetLiteralInNamespace("",r,i)}addSvgIconSetInNamespace(r,i,s){return this._addSvgIconSetConfig(r,new $(i,null,s))}addSvgIconSetLiteralInNamespace(r,i,s){let o=this._sanitizer.sanitize(he.HTML,i);if(!o)throw or(i);let a=Se(o);return this._addSvgIconSetConfig(r,new $("",a,s))}registerFontClassAlias(r,i=r){return this._fontCssClassesByAlias.set(r,i),this}classNameForFontAlias(r){return this._fontCssClassesByAlias.get(r)||r}setDefaultFontSetClass(...r){return this._defaultFontSetClass=r,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(r){let i=this._sanitizer.sanitize(he.RESOURCE_URL,r);if(!i)throw sr(r);let s=this._cachedIconsByUrl.get(i);return s?oe(Je(s)):this._loadSvgIconFromConfig(new $(r,null)).pipe(ce(o=>this._cachedIconsByUrl.set(i,o)),ae(o=>Je(o)))}getNamedSvgIcon(r,i=""){let s=ar(i,r),o=this._svgIconConfigs.get(s);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,r),o)return this._svgIconConfigs.set(s,o),this._getSvgFromConfig(o);let a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(r,a):Dn(ir(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(r){return r.svgText?oe(Je(this._svgElementFromConfig(r))):this._loadSvgIconFromConfig(r).pipe(ae(i=>Je(i)))}_getSvgFromIconSetConfigs(r,i){let s=this._extractIconWithNameFromAnySet(r,i);if(s)return oe(s);let o=i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Un(c=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(he.RESOURCE_URL,a.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(d)),oe(null)})));return Ln(o).pipe(ae(()=>{let a=this._extractIconWithNameFromAnySet(r,i);if(!a)throw ir(r);return a}))}_extractIconWithNameFromAnySet(r,i){for(let s=i.length-1;s>=0;s--){let o=i[s];if(o.svgText&&o.svgText.toString().indexOf(r)>-1){let a=this._svgElementFromConfig(o),c=this._extractSvgIconFromSet(a,r,o.options);if(c)return c}}return null}_loadSvgIconFromConfig(r){return this._fetchIcon(r).pipe(ce(i=>r.svgText=i),ae(()=>this._svgElementFromConfig(r)))}_loadSvgIconSetFromConfig(r){return r.svgText?oe(null):this._fetchIcon(r).pipe(ce(i=>r.svgText=i))}_extractSvgIconFromSet(r,i,s){let o=r.querySelector(`[id="${i}"]`);if(!o)return null;let a=o.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,s);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),s);let c=this._svgElementFromString(Se("<svg></svg>"));return c.appendChild(a),this._setSvgAttributes(c,s)}_svgElementFromString(r){let i=this._document.createElement("DIV");i.innerHTML=r;let s=i.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(r){let i=this._svgElementFromString(Se("<svg></svg>")),s=r.attributes;for(let o=0;o<s.length;o++){let{name:a,value:c}=s[o];a!=="id"&&i.setAttribute(a,c)}for(let o=0;o<r.childNodes.length;o++)r.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(r.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(r,i){return r.setAttribute("fit",""),r.setAttribute("height","100%"),r.setAttribute("width","100%"),r.setAttribute("preserveAspectRatio","xMidYMid meet"),r.setAttribute("focusable","false"),i&&i.viewBox&&r.setAttribute("viewBox",i.viewBox),r}_fetchIcon(r){let{url:i,options:s}=r,o=s?.withCredentials??!1;if(!this._httpClient)throw Oi();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let a=this._sanitizer.sanitize(he.RESOURCE_URL,i);if(!a)throw sr(i);let c=this._inProgressUrlFetches.get(a);if(c)return c;let u=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(ae(d=>Se(d)),xn(()=>this._inProgressUrlFetches.delete(a)),Fn());return this._inProgressUrlFetches.set(a,u),u}_addSvgIconConfig(r,i,s){return this._svgIconConfigs.set(ar(r,i),s),this}_addSvgIconSetConfig(r,i){let s=this._iconSetConfigs.get(r);return s?s.push(i):this._iconSetConfigs.set(r,[i]),this}_svgElementFromConfig(r){if(!r.svgElement){let i=this._svgElementFromString(r.svgText);this._setSvgAttributes(i,r.options),r.svgElement=i}return r.svgElement}_getIconConfigFromResolvers(r,i){for(let s=0;s<this._resolvers.length;s++){let o=this._resolvers[s](i,r);if(o)return Di(o)?new $(o.url,null,o.options):new $(o,null)}}};e.\u0275fac=function(i){return new(i||e)(O(Ke,8),O(nr),O(bt,8),O(Ge))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Je(t){return t.cloneNode(!0)}function ar(t,e){return t+":"+e}function Di(t){return!!(t.url&&t.options)}var Li=new J("MAT_ICON_DEFAULT_OPTIONS"),Ui=new J("mat-icon-location",{providedIn:"root",factory:Mi});function Mi(){let t=Vn(bt),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var cr=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],xi=cr.map(t=>`[${t}]`).join(", "),Fi=/^url\(['"]?#(.*?)['"]?\)$/,hu=(()=>{let e=class e{get color(){return this._color||this._defaultColor}set color(r){this._color=r}get svgIcon(){return this._svgIcon}set svgIcon(r){r!==this._svgIcon&&(r?this._updateSvgIcon(r):this._svgIcon&&this._clearSvgElement(),this._svgIcon=r)}get fontSet(){return this._fontSet}set fontSet(r){let i=this._cleanupFontValue(r);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(r){let i=this._cleanupFontValue(r);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(r,i,s,o,a,c){this._elementRef=r,this._iconRegistry=i,this._location=o,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Pn.EMPTY,c&&(c.color&&(this.color=this._defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),s||r.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(r){if(!r)return["",""];let i=r.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${r}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let r=this._elementsWithExternalReferences;if(r&&r.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(r){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(r),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(r)}_clearSvgElement(){let r=this._elementRef.nativeElement,i=r.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let s=r.childNodes[i];(s.nodeType!==1||s.nodeName.toLowerCase()==="svg")&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let r=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>r.classList.remove(s)),i.forEach(s=>r.classList.add(s)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&r.classList.remove(this._previousFontIconClass),this.fontIcon&&r.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(r){return typeof r=="string"?r.trim().split(" ")[0]:r}_prependPathToReferences(r){let i=this._elementsWithExternalReferences;i&&i.forEach((s,o)=>{s.forEach(a=>{o.setAttribute(a.name,`url('${r}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(r){let i=r.querySelectorAll(xi),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)cr.forEach(a=>{let c=i[o],u=c.getAttribute(a),d=u?u.match(Fi):null;if(d){let h=s.get(c);h||(h=[],s.set(c,h)),h.push({name:a,value:d[1]})}})}_updateSvgIcon(r){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),r){let[i,s]=this._splitIconName(r);i&&(this._svgNamespace=i),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,i).pipe(Mn(1)).subscribe(o=>this._setSvgElement(o),o=>{let a=`Error retrieving icon ${i}:${s}! ${o.message}`;this._errorHandler.handleError(new Error(a))})}}};e.\u0275fac=function(i){return new(i||e)(fe(jn),fe(Ni),Wn("aria-hidden"),fe(Ui),fe(Ge),fe(Li,8))},e.\u0275cmp=$n({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,s){i&2&&(qn("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet)("fontIcon",s._usingFontIcon()?s.fontIcon:null),Kn(s.color?"mat-"+s.color:""),Gn("mat-icon-inline",s.inline)("mat-icon-no-color",s.color!=="primary"&&s.color!=="accent"&&s.color!=="warn"))},inputs:{color:"color",inline:["inline","inline",er],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[zn,Xn],ngContentSelectors:Ci,decls:1,vars:0,template:function(i,s){i&1&&(Yn(),Jn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let t=e;return t})(),fu=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=de({type:e}),e.\u0275inj=le({imports:[At,At]});let t=e;return t})();var lr=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Vi=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},dr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4,f=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lr(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Vi(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new Rt;let f=s<<2|a>>4;if(r.push(f),u!==64){let p=a<<4&240|u>>2;if(r.push(p),h!==64){let v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Rt=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},$i=function(t){let e=lr(t);return dr.encodeByteArray(e,!0)},ke=function(t){return $i(t).replace(/\./g,"")},Ct=function(t){try{return dr.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Bi(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Wi=()=>Bi().__FIREBASE_DEFAULTS__,Hi=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ji=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ct(t[1]);return e&&JSON.parse(e)},Pt=()=>{try{return Wi()||Hi()||ji()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hr=t=>{var e,n;return(n=(e=Pt())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fr=t=>{let e=hr(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ot=()=>{var t;return(t=Pt())===null||t===void 0?void 0:t.config},pr=t=>{var e;return(e=Pt())===null||e===void 0?void 0:e[`_${t}`]};var Xe=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function mr(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ke(JSON.stringify(n)),ke(JSON.stringify(o)),a].join(".")}function N(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gr(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(N())}function _r(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ir(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vr(){try{return typeof indexedDB=="object"}catch{return!1}}function Er(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var zi="FirebaseError",C=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zi,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,B.prototype.create)}},B=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?qi(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new C(i,a,r)}};function qi(t,e){return t.replace(Gi,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Gi=/\{\$([^}]+)}/g;function Ce(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(ur(s)&&ur(o)){if(!Ce(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function ur(t){return t!==null&&typeof t=="object"}function Nt(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tr(t,e){let n=new kt(t,e);return n.subscribe.bind(n)}var kt=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ki(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=St),i.error===void 0&&(i.error=St),i.complete===void 0&&(i.complete=St);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Ki(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function St(){}var mu=4*60*60*1e3;function D(t){return t&&t._delegate?t._delegate:t}var P=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var X="[DEFAULT]";var Dt=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Xe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ji(e))try{this.getOrInitializeService({instanceIdentifier:X})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=X){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return l(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=X){return this.instances.has(e)}getOptions(e=X){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Yi(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=X){return this.component?this.component.multipleInstances?e:X:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Yi(t){return t===X?void 0:t}function Ji(t){return t.instantiationMode==="EAGER"}var Ze=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Dt(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Xi=[],g=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(g||{}),Zi={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},Qi=g.INFO,es={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},ts=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=es[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},me=class{constructor(e){this.name=e,this._logLevel=Qi,this._logHandler=ts,this._userLogHandler=null,Xi.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in g))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zi[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...e),this._logHandler(this,g.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...e),this._logHandler(this,g.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,g.INFO,...e),this._logHandler(this,g.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,g.WARN,...e),this._logHandler(this,g.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,g.ERROR,...e),this._logHandler(this,g.ERROR,...e)}};var ns=(t,e)=>e.some(n=>t instanceof n),yr,wr;function rs(){return yr||(yr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function is(){return wr||(wr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var br=new WeakMap,Ut=new WeakMap,Ar=new WeakMap,Lt=new WeakMap,xt=new WeakMap;function ss(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(M(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&br.set(n,t)}).catch(()=>{}),xt.set(e,t),e}function os(t){if(Ut.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ut.set(t,e)}var Mt={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ut.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ar.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return M(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Sr(t){Mt=t(Mt)}function as(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Qe(this),e,...n);return Ar.set(r,e.sort?e.sort():[e]),M(r)}:is().includes(t)?function(...e){return t.apply(Qe(this),e),M(br.get(this))}:function(...e){return M(t.apply(Qe(this),e))}}function cs(t){return typeof t=="function"?as(t):(t instanceof IDBTransaction&&os(t),ns(t,rs())?new Proxy(t,Mt):t)}function M(t){if(t instanceof IDBRequest)return ss(t);if(Lt.has(t))return Lt.get(t);let e=cs(t);return e!==t&&(Lt.set(t,e),xt.set(e,t)),e}var Qe=t=>xt.get(t);function kr(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=M(o);return r&&o.addEventListener("upgradeneeded",c=>{r(M(o.result),c.oldVersion,c.newVersion,M(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var us=["get","getKey","getAll","getAllKeys","count"],ls=["put","add","delete","clear"],Ft=new Map;function Rr(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ft.get(e))return Ft.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=ls.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||us.includes(n)))return;let s=function(o,...a){return l(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Ft.set(e,s),s}Sr(t=>ze(Ae({},t),{get:(e,n,r)=>Rr(e,n)||t.get(e,n,r),has:(e,n)=>!!Rr(e,n)||t.has(e,n)}));var $t=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ds(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function ds(t){let e=t.getComponent();return e?.type==="VERSION"}var Bt="@firebase/app",Cr="0.9.29";var Z=new me("@firebase/app"),hs="@firebase/app-compat",fs="@firebase/analytics-compat",ps="@firebase/analytics",ms="@firebase/app-check-compat",gs="@firebase/app-check",_s="@firebase/auth",Is="@firebase/auth-compat",vs="@firebase/database",Es="@firebase/database-compat",Ts="@firebase/functions",ys="@firebase/functions-compat",ws="@firebase/installations",bs="@firebase/installations-compat",As="@firebase/messaging",Ss="@firebase/messaging-compat",Rs="@firebase/performance",ks="@firebase/performance-compat",Cs="@firebase/remote-config",Ps="@firebase/remote-config-compat",Os="@firebase/storage",Ns="@firebase/storage-compat",Ds="@firebase/firestore",Ls="@firebase/firestore-compat",Us="firebase",Ms="10.9.0";var Wt="[DEFAULT]",xs={[Bt]:"fire-core",[hs]:"fire-core-compat",[ps]:"fire-analytics",[fs]:"fire-analytics-compat",[gs]:"fire-app-check",[ms]:"fire-app-check-compat",[_s]:"fire-auth",[Is]:"fire-auth-compat",[vs]:"fire-rtdb",[Es]:"fire-rtdb-compat",[Ts]:"fire-fn",[ys]:"fire-fn-compat",[ws]:"fire-iid",[bs]:"fire-iid-compat",[As]:"fire-fcm",[Ss]:"fire-fcm-compat",[Rs]:"fire-perf",[ks]:"fire-perf-compat",[Cs]:"fire-rc",[Ps]:"fire-rc-compat",[Os]:"fire-gcs",[Ns]:"fire-gcs-compat",[Ds]:"fire-fst",[Ls]:"fire-fst-compat","fire-js":"fire-js",[Us]:"fire-js-all"};var Pe=new Map,Ht=new Map;function Fs(t,e){try{t.container.addComponent(e)}catch(n){Z.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function q(t){let e=t.name;if(Ht.has(e))return Z.debug(`There were multiple attempts to register component ${e}.`),!1;Ht.set(e,t);for(let n of Pe.values())Fs(n,t);return!0}function Gt(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var Vs={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},z=new B("app","Firebase",Vs);var jt=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new P("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw z.create("app-deleted",{appName:this._name})}};var ge=Ms;function Kt(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Wt,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw z.create("bad-app-name",{appName:String(i)});if(n||(n=Ot()),!n)throw z.create("no-options");let s=Pe.get(i);if(s){if(Ce(n,s.options)&&Ce(r,s.config))return s;throw z.create("duplicate-app",{appName:i})}let o=new Ze(i);for(let c of Ht.values())o.addComponent(c);let a=new jt(n,r,o);return Pe.set(i,a),a}function Ne(t=Wt){let e=Pe.get(t);if(!e&&t===Wt&&Ot())return Kt();if(!e)throw z.create("no-app",{appName:t});return e}function et(){return Array.from(Pe.values())}function w(t,e,n){var r;let i=(r=xs[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Z.warn(a.join(" "));return}q(new P(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var $s="firebase-heartbeat-database",Bs=1,Oe="firebase-heartbeat-store",Vt=null;function Dr(){return Vt||(Vt=kr($s,Bs,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oe)}catch(n){console.warn(n)}}}}).catch(t=>{throw z.create("idb-open",{originalErrorMessage:t.message})})),Vt}function Ws(t){return l(this,null,function*(){try{let n=(yield Dr()).transaction(Oe),r=yield n.objectStore(Oe).get(Lr(t));return yield n.done,r}catch(e){if(e instanceof C)Z.warn(e.message);else{let n=z.create("idb-get",{originalErrorMessage:e?.message});Z.warn(n.message)}}})}function Pr(t,e){return l(this,null,function*(){try{let r=(yield Dr()).transaction(Oe,"readwrite");yield r.objectStore(Oe).put(e,Lr(t)),yield r.done}catch(n){if(n instanceof C)Z.warn(n.message);else{let r=z.create("idb-set",{originalErrorMessage:n?.message});Z.warn(r.message)}}})}function Lr(t){return`${t.name}!${t.options.appId}`}var Hs=1024,js=30*24*60*60*1e3,zt=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new qt(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return l(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Or();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=js}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return l(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Or(),{heartbeatsToSend:r,unsentEntries:i}=zs(this._heartbeatsCache.heartbeats),s=ke(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function Or(){return new Date().toISOString().substring(0,10)}function zs(t,e=Hs){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Nr(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Nr(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var qt=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return l(this,null,function*(){return vr()?Er().then(()=>!0).catch(()=>!1):!1})}read(){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Ws(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Pr(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Pr(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Nr(t){return ke(JSON.stringify({version:2,heartbeats:t})).length}function qs(t){q(new P("platform-logger",e=>new $t(e),"PRIVATE")),q(new P("heartbeat",e=>new zt(e),"PRIVATE")),w(Bt,Cr,t),w(Bt,Cr,"esm2017"),w("fire-js","")}qs("");var Gs="firebase",Ks="10.9.0";w(Gs,Ks,"app");var Ie=new Zn("ANGULARFIRE2_VERSION");function Jt(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Le=(t,e)=>{let n=e?[e]:et(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},De=class{constructor(){return Le(Ys)}},Ys="app-check";function _e(){}var tt=class{zone;delegate;constructor(e,n=Nn){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Yt=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_e,{},_e,_e)),n.pipe(ce({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ue=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new tt(Zone.current)),this.insideAngular=n.run(()=>new tt(Zone.current,On)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(O(pe))};static \u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nt(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Js(t){return nt().ngZone.runOutsideAngular(()=>t())}function Q(t){return nt().ngZone.run(()=>t())}function Xs(t){return Zs(nt())(t)}function Zs(t){return function(n){return n=n.lift(new Yt(t.ngZone)),n.pipe(wt(t.outsideAngular),yt(t.insideAngular))}}var Qs=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Q(()=>t.apply(void 0,r))},W=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Q(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_e,{},_e,_e))),r[s]=Qs(r[s],n));let i=Js(()=>t.apply(this,r));if(!e)if(i instanceof Et){let s=nt();return i.pipe(wt(s.outsideAngular),yt(s.insideAngular))}else return Q(()=>i);return i instanceof Et?i.pipe(Xs):i instanceof Promise?Q(()=>new Promise((s,o)=>i.then(a=>Q(()=>s(a)),a=>Q(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Q(()=>i)};var ee=class{constructor(e){return e}},Me=class{constructor(){return et()}};function eo(t){return t&&t.length===1?t[0]:new ee(Ne())}var Xt=new J("angularfire2._apps"),to={provide:ee,useFactory:eo,deps:[[new V,Xt]]},no={provide:Me,deps:[[new V,Xt]]};function ro(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ee(r)}}var io=(()=>{class t{constructor(n){w("angularfire",Ie.full,"core"),w("angularfire",Ie.full,"app"),w("angular",Qn.full,n.toString())}static \u0275fac=function(r){return new(r||t)(O(Hn))};static \u0275mod=de({type:t});static \u0275inj=le({providers:[to,no]})}return t})();function Zu(t,...e){return{ngModule:io,providers:[{provide:Xt,useFactory:ro(t),multi:!0,deps:[pe,qe,Ue,...e]}]}}var Qu=W(Kt,!0);function Br(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Wr=Br,Hr=new B("auth","Firebase",Br());var st=new me("@firebase/auth");function so(t,...e){st.logLevel<=g.WARN&&st.warn(`Auth (${ge}): ${t}`,...e)}function it(t,...e){st.logLevel<=g.ERROR&&st.error(`Auth (${ge}): ${t}`,...e)}function Ur(t,...e){throw ln(t,...e)}function un(t,...e){return ln(t,...e)}function oo(t,e,n){let r=Object.assign(Object.assign({},Wr()),{[e]:n});return new B("auth","Firebase",r).create(e,{appName:t.name})}function ln(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Hr.create(t,...e)}function m(t,e,...n){if(!t)throw ln(e,...n)}function xe(t){let e="INTERNAL ASSERTION FAILED: "+t;throw it(e),new Error(e)}function ot(t,e){t||xe(e)}function ao(){return Mr()==="http:"||Mr()==="https:"}function Mr(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function co(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ao()||_r()||"connection"in navigator)?navigator.onLine:!0}function uo(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ne=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ot(n>e,"Short delay should be less than long delay!"),this.isMobile=gr()||Ir()}get(){return co()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function lo(t,e){ot(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var at=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var ho={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var fo=new ne(3e4,6e4);function jr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function pt(s,o,a,c){return l(this,arguments,function*(t,e,n,r,i={}){return zr(t,i,()=>l(this,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let h=Nt(Object.assign({key:t.config.apiKey},d)).slice(1),f=yield t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),at.fetch()(qr(t,t.config.apiHost,n,h),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},u))}))})}function zr(t,e,n){return l(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},ho),e);try{let i=new en(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw rt(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw rt(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw rt(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw rt(t,"user-disabled",o);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw oo(t,d,u);Ur(t,d)}}catch(i){if(i instanceof C)throw i;Ur(t,"network-request-failed",{message:String(i)})}})}function qr(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?lo(t.config,i):`${t.config.apiScheme}://${i}`}var en=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(un(this.auth,"network-request-failed")),fo.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function rt(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=un(t,e,r);return i.customData._tokenResponse=n,i}function po(t,e){return l(this,null,function*(){return pt(t,"POST","/v1/accounts:delete",e)})}function mo(t,e){return l(this,null,function*(){return pt(t,"POST","/v1/accounts:lookup",e)})}function Fe(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function dn(t,e=!1){return l(this,null,function*(){let n=D(t),r=yield n.getIdToken(e),i=Gr(r);m(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Fe(Zt(i.auth_time)),issuedAtTime:Fe(Zt(i.iat)),expirationTime:Fe(Zt(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Zt(t){return Number(t)*1e3}function Gr(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return it("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ct(n);return i?JSON.parse(i):(it("Failed to decode base64 JWT payload"),null)}catch(i){return it("Caught error parsing JWT payload as JSON",i?.toString()),null}}function go(t){let e=Gr(t);return m(e,"internal-error"),m(typeof e.exp<"u","internal-error"),m(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function tn(t,e,n=!1){return l(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof C&&_o(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function _o({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var nn=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>l(this,null,function*(){yield this.iteration()}),n)}iteration(){return l(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ct=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fe(this.lastLoginAt),this.creationTime=Fe(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ut(t){return l(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield tn(t,mo(n,{idToken:r}));m(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?vo(s.providerUserInfo):[],a=Io(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,d=c?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ct(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)})}function hn(t){return l(this,null,function*(){let e=D(t);yield ut(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Io(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vo(t){return t.map(e=>{var{providerId:n}=e,r=Tt(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Eo(t,e){return l(this,null,function*(){let n=yield zr(t,{},()=>l(this,null,function*(){let r=Nt({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=qr(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",at.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function To(t,e){return l(this,null,function*(){return pt(t,"POST","/v2/accounts:revokeToken",jr(t,e))})}var lt=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){m(e.idToken,"internal-error"),m(typeof e.idToken<"u","internal-error"),m(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):go(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return l(this,null,function*(){return m(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return l(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Eo(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(m(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(m(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(m(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return xe("not implemented")}};function G(t,e){m(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var dt=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Tt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ct(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return l(this,null,function*(){let n=yield tn(this,this.stsTokenManager.getToken(this.auth,e));return m(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return dn(this,e)}reload(){return hn(this)}_assign(e){this!==e&&(m(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){m(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return l(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield ut(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return l(this,null,function*(){let e=yield this.getIdToken();return yield tn(this,po(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,d;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,A=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,R=(u=n.createdAt)!==null&&u!==void 0?u:void 0,k=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:y,isAnonymous:F,providerData:U,stsTokenManager:se}=n;m(T&&se,e,"internal-error");let K=lt.fromJSON(this.name,se);m(typeof T=="string",e,"internal-error"),G(h,e.name),G(f,e.name),m(typeof y=="boolean",e,"internal-error"),m(typeof F=="boolean",e,"internal-error"),G(p,e.name),G(v,e.name),G(A,e.name),G(_,e.name),G(R,e.name),G(k,e.name);let Y=new t({uid:T,auth:e,email:f,emailVerified:y,displayName:h,isAnonymous:F,photoURL:v,phoneNumber:p,tenantId:A,stsTokenManager:K,createdAt:R,lastLoginAt:k});return U&&Array.isArray(U)&&(Y.providerData=U.map(Ri=>Object.assign({},Ri))),_&&(Y._redirectEventId=_),Y}static _fromIdTokenResponse(e,n,r=!1){return l(this,null,function*(){let i=new lt;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ut(s),s})}};var xr=new Map;function te(t){ot(t instanceof Function,"Expected a class definition");let e=xr.get(t);return e?(ot(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xr.set(t,e),e)}var yo=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return l(this,null,function*(){return!0})}_set(n,r){return l(this,null,function*(){this.storage[n]=r})}_get(n){return l(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return l(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),rn=yo;function Qt(t,e,n){return`firebase:${t}:${e}:${n}`}var ht=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Qt(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qt("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return l(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?dt._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return l(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return l(this,null,function*(){if(!n.length)return new t(te(rn),e,r);let i=(yield Promise.all(n.map(u=>l(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||te(rn),o=Qt(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let d=yield u._get(o);if(d){let h=dt._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>l(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function Fr(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(So(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wo(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ko(e))return"Blackberry";if(Co(e))return"Webos";if(bo(e))return"Safari";if((e.includes("chrome/")||Ao(e))&&!e.includes("edge/"))return"Chrome";if(Ro(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function wo(t=N()){return/firefox\//i.test(t)}function bo(t=N()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ao(t=N()){return/crios\//i.test(t)}function So(t=N()){return/iemobile/i.test(t)}function Ro(t=N()){return/android/i.test(t)}function ko(t=N()){return/blackberry/i.test(t)}function Co(t=N()){return/webos/i.test(t)}function Kr(t,e=[]){let n;switch(t){case"Browser":n=Fr(N());break;case"Worker":n=`${Fr(N())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ge}/${r}`}var sn=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return l(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Po(n){return l(this,arguments,function*(t,e={}){return pt(t,"GET","/v2/passwordPolicy",jr(t,e))})}var Oo=6,on=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Oo,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var an=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ft(this),this.idTokenSubscription=new ft(this),this.beforeStateQueue=new sn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=te(n)),this._initializationPromise=this.queue(()=>l(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield ht.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return l(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return l(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return m(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return l(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return l(this,null,function*(){try{yield ut(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=uo()}_delete(){return l(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return l(this,null,function*(){let n=e?D(e):null;return n&&m(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return l(this,null,function*(){if(!this._deleted)return e&&m(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>l(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return l(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>l(this,null,function*(){yield this.assertedPersistence.setPersistence(te(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return l(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return l(this,null,function*(){let e=yield Po(this),n=new on(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new B("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return l(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield To(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return l(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return l(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&te(e)||this._popupRedirectResolver;m(n,this,"argument-error"),this.redirectPersistenceManager=yield ht.create(this,[te(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return l(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>l(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return l(this,null,function*(){if(e===this.currentUser)return this.queue(()=>l(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(m(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return l(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return m(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return l(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return l(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&so(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function No(t){return D(t)}var ft=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Tr(n=>this.observer=n)}get next(){return m(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Do={loadJS(){return l(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lo(t){Do=t}function Uo(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Mo(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(te);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var hl=Uo("rcb"),fl=new ne(3e4,6e4);var pl=new ne(2e3,1e4);var ml=10*60*1e3;var gl=new ne(3e4,6e4);var _l=new ne(5e3,15e3);var Il=encodeURIComponent("fac");var Vr="@firebase/auth",$r="1.6.2";var cn=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return l(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){m(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function xo(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fo(t){q(new P("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;m(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kr(t)},u=new an(r,i,s,c);return Mo(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),q(new P("auth-internal",e=>{let n=No(e.getProvider("auth").getImmediate());return(r=>new cn(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),w(Vr,$r,xo(t)),w(Vr,$r,"esm2017")}var Vo=5*60,vl=pr("authIdTokenMaxAge")||Vo;function $o(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Lo({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=un("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",$o().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fo("Browser");var Va="auth";var mt=class{constructor(){return Le(Va)}};var ni="firebasestorage.googleapis.com",ri="storageBucket",$a=2*60*1e3,Ba=10*60*1e3,Wa=1e3;var E=class t extends C{constructor(e,n,r=0){super(fn(e),`Firebase Storage: ${n} (${fn(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fn(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},I=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(I||{});function fn(t){return"storage/"+t}function yn(){let t="An unknown error occurred, please check the error payload for server response.";return new E(I.UNKNOWN,t)}function Ha(t){return new E(I.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function ja(t){return new E(I.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function za(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new E(I.UNAUTHENTICATED,t)}function qa(){return new E(I.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ga(t){return new E(I.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function ii(){return new E(I.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function si(){return new E(I.CANCELED,"User canceled the upload/download.")}function Ka(t){return new E(I.INVALID_URL,"Invalid URL '"+t+"'.")}function Ya(t){return new E(I.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Ja(){return new E(I.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ri+"' property when initializing the app?")}function oi(){return new E(I.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Xa(){return new E(I.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Za(){return new E(I.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Qa(t){return new E(I.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function mn(t){return new E(I.INVALID_ARGUMENT,t)}function ai(){return new E(I.APP_DELETED,"The Firebase app was deleted.")}function ec(t){return new E(I.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $e(t,e){return new E(I.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ve(t){throw new E(I.INTERNAL_ERROR,"Internal error: "+t)}var L=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw Ya(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(y){y.path.charAt(y.path.length-1)==="/"&&(y.path_=y.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(y){y.path_=decodeURIComponent(y.path)}let d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},A=n===ni?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",R=new RegExp(`^https?://${A}/${i}/${_}`,"i"),T=[{regex:a,indices:c,postModify:s},{regex:p,indices:v,postModify:u},{regex:R,indices:{bucket:1,path:2},postModify:u}];for(let y=0;y<T.length;y++){let F=T[y],U=F.regex.exec(e);if(U){let se=U[F.indices.bucket],K=U[F.indices.path];K||(K=""),r=new t(se,K),F.postModify(r);break}}if(r==null)throw Ka(e);return r}},gn=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function tc(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function d(..._){u||(u=!0,e.apply(null,_))}function h(_){i=setTimeout(()=>{i=null,t(p,c())},_)}function f(){s&&clearTimeout(s)}function p(_,...R){if(u){f();return}if(_){f(),d.call(null,_,...R);return}if(c()||o){f(),d.call(null,_,...R);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,h(T)}let v=!1;function A(_){v||(v=!0,f(),!u&&(i!==null?(_||(a=2),clearTimeout(i),h(0)):_||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,A(!0)},n),A}function nc(t){t(!1)}function rc(t){return t!==void 0}function ic(t){return typeof t=="function"}function sc(t){return typeof t=="object"&&!Array.isArray(t)}function vt(t){return typeof t=="string"||t instanceof String}function Yr(t){return wn()&&t instanceof Blob}function wn(){return typeof Blob<"u"}function Jr(t,e,n,r){if(r<e)throw mn(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw mn(`Invalid value for '${t}'. Expected ${n} or less.`)}function be(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function ci(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Te=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Te||{});function ui(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var _n=class{constructor(e,n,r,i,s,o,a,c,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,v)=>{this.resolve_=p,this.reject_=v,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Ee(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===Te.NO_ERROR,c=s.getStatus();if(!a||ui(c,this.additionalRetryCodes_)&&this.retry){let d=s.getErrorCode()===Te.ABORT;r(!1,new Ee(!1,null,d));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new Ee(u,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());rc(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=yn();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?ai():si();o(c)}else{let c=ii();o(c)}};this.canceled_?n(!1,new Ee(!1,null,!0)):this.backoffId_=tc(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nc(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Ee=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function oc(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function ac(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function cc(t,e){e&&(t["X-Firebase-GMPID"]=e)}function uc(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function lc(t,e,n,r,i,s,o=!0){let a=ci(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return cc(u,e),oc(u,n),ac(u,s),uc(u,r),new _n(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function dc(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function hc(...t){let e=dc();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(wn())return new Blob(t);throw new E(I.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function fc(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function pc(t){if(typeof atob>"u")throw Qa("base-64");return atob(t)}var x={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Be=class{constructor(e,n){this.data=e,this.contentType=n||null}};function mc(t,e){switch(t){case x.RAW:return new Be(li(e));case x.BASE64:case x.BASE64URL:return new Be(di(t,e));case x.DATA_URL:return new Be(_c(e),Ic(e))}throw yn()}function li(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function gc(t){let e;try{e=decodeURIComponent(t)}catch{throw $e(x.DATA_URL,"Malformed data URL.")}return li(e)}function di(t,e){switch(t){case x.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw $e(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case x.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw $e(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=pc(e)}catch(i){throw i.message.includes("polyfill")?i:$e(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var _t=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw $e(x.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=vc(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function _c(t){let e=new _t(t);return e.base64?di(x.BASE64,e.rest):gc(e.rest)}function Ic(t){return new _t(t).contentType}function vc(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var It=class t{constructor(e,n){let r=0,i="";Yr(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Yr(this.data_)){let r=this.data_,i=fc(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(wn()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(hc.apply(null,n))}else{let n=e.map(o=>vt(o)?mc(x.RAW,o).data:o.data_),r=0;n.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new t(i,!0)}}uploadData(){return this.data_}};function hi(t){let e;try{e=JSON.parse(t)}catch{return null}return sc(e)?e:null}function Ec(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Tc(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function fi(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function yc(t,e){return e}var b=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||yc}},gt=null;function wc(t){return!vt(t)||t.length<2?t:fi(t)}function pi(){if(gt)return gt;let t=[];t.push(new b("bucket")),t.push(new b("generation")),t.push(new b("metageneration")),t.push(new b("name","fullPath",!0));function e(s,o){return wc(o)}let n=new b("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}let i=new b("size");return i.xform=r,t.push(i),t.push(new b("timeCreated")),t.push(new b("updated")),t.push(new b("md5Hash",null,!0)),t.push(new b("cacheControl",null,!0)),t.push(new b("contentDisposition",null,!0)),t.push(new b("contentEncoding",null,!0)),t.push(new b("contentLanguage",null,!0)),t.push(new b("contentType",null,!0)),t.push(new b("metadata","customMetadata",!0)),gt=t,gt}function bc(t,e){function n(){let r=t.bucket,i=t.fullPath,s=new L(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Ac(t,e,n){let r={};r.type="file";let i=n.length;for(let s=0;s<i;s++){let o=n[s];r[o.local]=o.xform(r,e[o.server])}return bc(r,t),r}function mi(t,e,n){let r=hi(e);return r===null?null:Ac(t,r,n)}function Sc(t,e,n,r){let i=hi(e);if(i===null||!vt(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(u=>{let d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),p=be(f,n,r),v=ci({alt:"media",token:u});return p+v})[0]}function gi(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var j=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function H(t){if(!t)throw yn()}function bn(t,e){function n(r,i){let s=mi(t,i,e);return H(s!==null),s}return n}function Rc(t,e){function n(r,i){let s=mi(t,i,e);return H(s!==null),Sc(s,i,t.host,t._protocol)}return n}function He(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=qa():i=za():n.getStatus()===402?i=ja(t.bucket):n.getStatus()===403?i=Ga(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function An(t){let e=He(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Ha(t.path)),s.serverResponse=i.serverResponse,s}return n}function kc(t,e,n){let r=e.fullServerUrl(),i=be(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new j(i,s,bn(t,n),o);return a.errorHandler=An(e),a}function Cc(t,e,n){let r=e.fullServerUrl(),i=be(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new j(i,s,Rc(t,n),o);return a.errorHandler=An(e),a}function Pc(t,e){let n=e.fullServerUrl(),r=be(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(c,u){}let a=new j(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=An(e),a}function Oc(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function _i(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Oc(null,e)),r}function Nc(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let y=0;y<2;y++)T=T+Math.random().toString().slice(2);return T}let c=a();o["Content-Type"]="multipart/related; boundary="+c;let u=_i(e,r,i),d=gi(u,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+c+"--",p=It.getBlob(h,r,f);if(p===null)throw oi();let v={name:u.fullPath},A=be(s,t.host,t._protocol),_="POST",R=t.maxUploadRetryTime,k=new j(A,_,bn(t,n),R);return k.urlParams=v,k.headers=o,k.body=p.uploadData(),k.errorHandler=He(e),k}var ye=class{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}};function Sn(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{H(!1)}return H(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Dc(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o=_i(e,r,i),a={name:o.fullPath},c=be(s,t.host,t._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=gi(o,n),f=t.maxUploadRetryTime;function p(A){Sn(A);let _;try{_=A.getResponseHeader("X-Goog-Upload-URL")}catch{H(!1)}return H(vt(_)),_}let v=new j(c,u,p,f);return v.urlParams=a,v.headers=d,v.body=h,v.errorHandler=He(e),v}function Lc(t,e,n,r){let i={"X-Goog-Upload-Command":"query"};function s(u){let d=Sn(u,["active","final"]),h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{H(!1)}h||H(!1);let f=Number(h);return H(!isNaN(f)),new ye(f,r.size(),d==="final")}let o="POST",a=t.maxUploadRetryTime,c=new j(n,o,s,a);return c.headers=i,c.errorHandler=He(e),c}var Xr=256*1024;function Uc(t,e,n,r,i,s,o,a){let c=new ye(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw Xa();let u=c.total-c.current,d=u;i>0&&(d=Math.min(d,i));let h=c.current,f=h+d,p="";d===0?p="finalize":u===d?p="upload, finalize":p="upload";let v={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${c.current}`},A=r.slice(h,f);if(A===null)throw oi();function _(y,F){let U=Sn(y,["active","final"]),se=c.current+d,K=r.size(),Y;return U==="final"?Y=bn(e,s)(y,F):Y=null,new ye(se,K,U==="final",Y)}let R="POST",k=e.maxUploadRetryTime,T=new j(n,R,_,k);return T.headers=v,T.body=A.uploadData(),T.progressCallback=a||null,T.errorHandler=He(t),T}var S={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function pn(t){switch(t){case"running":case"pausing":case"canceling":return S.RUNNING;case"paused":return S.PAUSED;case"success":return S.SUCCESS;case"canceled":return S.CANCELED;case"error":return S.ERROR;default:return S.ERROR}}var In=class{constructor(e,n,r){if(ic(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{let s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};function ve(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var Zr=null,vn=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Te.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Te.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Te.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ve("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ve("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ve("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ve("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ve("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},En=class extends vn{initXhr(){this.xhr_.responseType="text"}};function re(){return Zr?Zr():new En}var Tn=class{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=pi(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(I.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let s=this.isExponentialBackoffExpired();if(ui(i.status,[]))if(s)i=ii();else{this.sleepTime=Math.max(this.sleepTime*2,Wa),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(I.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{let r=Dc(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,re,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((n,r)=>{let i=Lc(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,re,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=Xr*this._chunkMultiplier,n=new ye(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=Uc(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}let a=this._ref.storage._makeRequest(o,re,i,s,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Xr*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{let r=kc(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,re,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{let r=Nc(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,re,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=si(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=pn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){let s=new In(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(pn(this._state)){case S.SUCCESS:ve(this._resolve.bind(null,this.snapshot))();break;case S.CANCELED:case S.ERROR:let n=this._reject;ve(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(pn(this._state)){case S.RUNNING:case S.PAUSED:e.next&&ve(e.next.bind(e,this.snapshot))();break;case S.SUCCESS:e.complete&&ve(e.complete.bind(e))();break;case S.CANCELED:case S.ERROR:e.error&&ve(e.error.bind(e,this._error))();break;default:e.error&&ve(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var we=class t{constructor(e,n){this._service=e,n instanceof L?this._location=n:this._location=L.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new L(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fi(this._location.path)}get storage(){return this._service}get parent(){let e=Ec(this._location.path);if(e===null)return null;let n=new L(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ec(e)}};function Mc(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Tn(t,new It(e),n)}function xc(t){t._throwIfRoot("getDownloadURL");let e=Cc(t.storage,t._location,pi());return t.storage.makeRequestWithTokens(e,re).then(n=>{if(n===null)throw Za();return n})}function Fc(t){t._throwIfRoot("deleteObject");let e=Pc(t.storage,t._location);return t.storage.makeRequestWithTokens(e,re)}function Vc(t,e){let n=Tc(t._location.path,e),r=new L(t._location.bucket,n);return new we(t.storage,r)}function $c(t){return/^[A-Za-z]+:\/\//.test(t)}function Bc(t,e){return new we(t,e)}function Ii(t,e){if(t instanceof We){let n=t;if(n._bucket==null)throw Ja();let r=new we(n,n._bucket);return e!=null?Ii(r,e):r}else return e!==void 0?Vc(t,e):t}function Wc(t,e){if(e&&$c(e)){if(t instanceof We)return Bc(t,e);throw mn("To use ref(service, url), the first argument must be a Storage instance.")}else return Ii(t,e)}function Qr(t,e){let n=e?.[ri];return n==null?null:L.makeFromBucketSpec(n,t)}function Hc(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:mr(i,t.app.options.projectId))}var We=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=ni,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$a,this._maxUploadRetryTime=Ba,this._requests=new Set,i!=null?this._bucket=L.makeFromBucketSpec(i,this._host):this._bucket=Qr(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=L.makeFromBucketSpec(this._url,e):this._bucket=Qr(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Jr("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Jr("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return l(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return l(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new we(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new gn(ai());{let o=lc(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return l(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},ei="@firebase/storage",ti="0.12.2";var vi="storage";function Ei(t,e,n){return t=D(t),Mc(t,e,n)}function Ti(t){return t=D(t),xc(t)}function yi(t){return t=D(t),Fc(t)}function wi(t,e){return t=D(t),Wc(t,e)}function bi(t=Ne(),e){t=D(t);let r=Gt(t,vi).getImmediate({identifier:e}),i=fr("storage");return i&&Ai(r,...i),r}function Ai(t,e,n,r={}){Hc(t,e,n,r)}function jc(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new We(n,r,i,e,ge)}function zc(){q(new P(vi,jc,"PUBLIC").setMultipleInstances(!0)),w(ei,ti,""),w(ei,ti,"esm2017")}zc();var je=class{constructor(e){return e}},Si="storage",Rn=class{constructor(){return Le(Si)}};var kn=new J("angularfire2.storage-instances");function qc(t,e){let n=Jt(Si,t,e);return n&&new je(n)}function Gc(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new je(r)}}var Kc={provide:Rn,deps:[[new V,kn]]},Yc={provide:je,useFactory:qc,deps:[[new V,kn],ee]},Jc=(()=>{class t{constructor(){w("angularfire",Ie.full,"gcs")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=de({type:t});static \u0275inj=le({providers:[Yc,Kc]})}return t})();function Nd(t,...e){return{ngModule:Jc,providers:[{provide:kn,useFactory:Gc(t),multi:!0,deps:[pe,qe,Ue,Me,[new V,mt],[new V,De],...e]}]}}var Dd=W(yi,!0);var Ld=W(Ti,!0);var Ud=W(bi,!0);var Md=W(wi,!0);var xd=W(Ei,!0);var Cn=function(t){return t.Ascending="asc",t.Descending="desc",t}(Cn||{});function ie(t){if(!t)return"";let e=new Date(Date.parse(t)),n=e.getFullYear(),r=e.getMonth()+1,i=r<10?`0${r}`:r,s=e.getDate(),o=s<10?`0${s}`:s;return`${n}-${i}-${o}`}var qd=(()=>{let e=class e{constructor(r){this._http=r,this._booksUrl=`${rr}/books`}static convertRequest(r){let i=Ae({},r),s=i.writingDateGte?ie(i.writingDateGte):null,o=i.writingDateLte?ie(i.writingDateLte):null,a=i.releaseDateGte?ie(i.releaseDateGte):null,c=i.releaseDateLte?ie(i.releaseDateLte):null,u=+i.page+1,h=(i.direction===Cn.Ascending?"":"-")+i.filterType;return i.writingDateGte=s,i.writingDateLte=o,i.releaseDateGte=a,i.releaseDateLte=c,i.page=u,i.ordering=h,delete i.filterType,delete i.direction,i=Object.fromEntries(Object.entries(i).filter(([f,p])=>p!==null&&p!==""&&p!==void 0)),i}getBooks(r){if(!r)return this._http.get(`${this._booksUrl}/`);let i=e.convertRequest(r),s=new tr({fromObject:i});return this._http.get(`${this._booksUrl}/`,{params:s})}getCurrentBook(r){return this._http.get(`${this._booksUrl}/${r}/`)}postBook(r){let i=ie(r.releaseDate),s=ie(r.writingDate),o=ze(Ae({},r),{releaseDate:i,writingDate:s});return this._http.post(`${this._booksUrl}/`,o)}};e.\u0275fac=function(i){return new(i||e)(O(Ke))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Yd=(()=>{let e=class e{transform(r,i=20){return r.length>=i?`${r.slice(0,i)}...`:r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Bn({name:"sliceSentence",type:e,pure:!0,standalone:!0});let t=e;return t})();export{hu as a,fu as b,Zu as c,Qu as d,je as e,Nd as f,Dd as g,Ld as h,Ud as i,Md as j,xd as k,Cn as l,ie as m,qd as n,Yd as o};
